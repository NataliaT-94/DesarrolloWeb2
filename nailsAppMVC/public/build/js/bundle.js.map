{"version":3,"sources":["app.js","buscador.js"],"names":["paso","pasoInicial","pasoFinal","cita","id","nombre","fecha","hora","servicios","inicial","console","log","iniciarAppUsuario","mostrarSeccion","tabs","botonesPaginador","paginaSiguiente","paginaAnterior","consultarAPI","idCliente","nombreCliente","seleccionarFecha","seleccionarHora","mostrarResumen","seccionAnterior","document","querySelector","classList","remove","pasoSelector","add","tabAnterior","querySelectorAll","forEach","boton","addEventListener","e","parseInt","target","dataset","async","url","resultado","fetch","mostrarServicios","json","error","servicio","precio","nombreServicio","createElement","textContent","precioServicio","servicioDiv","idServicio","onclick","seleccionarServicio","appendChild","divSevicio","some","agregado","filter","value","dia","Date","getUTCDay","includes","mostrarAlerta","split","mensaje","tipo","elemento","desaparece","alertaPrevia","alerta","setTimeout","resumen","firstChild","removeChild","Object","values","length","nombreCLiente","innerHTML","fechaObj","getDate","mes","getMonth","year","getFullYear","fechaFormateada","UTC","toLocaleDateString","day","weekday","month","fechaCita","horaCita","headingServicios","contenedorServicio","textoServicio","headingCita","botonReservar","reservarCita","idServicios","map","datos","FormData","append","respuesta","method","body","Swal","fire","icon","title","text","button","then","window","location","reload","iniciarApp","buscarPorFecha","fechaSeleccionada"],"mappings":"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","file":"bundle.js","sourcesContent":["let paso = 1;\r\nconst pasoInicial = 1;\r\nconst pasoFinal = 3;\r\nconst cita = {\r\n    id: '',\r\n    nombre: '',\r\n    fecha: '',\r\n    hora: '',\r\n    servicios: []\r\n}\r\nconsole.log('ROOT');\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(){\r\n    inicial();\r\n    iniciarAppUsuario();\r\n    console.log('DOMContentLoaded');\r\n});//Cuando todo el DOM este cargado ejecutar la figuiente funcion\r\n\r\nfunction inicial(){\r\n    console.log('Inicial');\r\n    \r\n}\r\nfunction iniciarAppUsuario(){\r\n    console.log('Iniciar APP');\r\n    \r\n    mostrarSeccion();//Muestra y Oculta las secciones\r\n    tabs();//Cambia la seccion cuando se presionen los tabs\r\n    botonesPaginador();//Agrega o Quita los botones del paginador\r\n    paginaSiguiente();\r\n    paginaAnterior();\r\n\r\n    consultarAPI();//Consulta la API en el backend de PHP\r\n\r\n    idCliente();\r\n    nombreCliente();//A単ade el nombre del cliente al objeto de cita\r\n    seleccionarFecha();//A単ade la fecha de la cita en el objeto\r\n    seleccionarHora();//A単ade la hora de la cita en el objeto\r\n\r\n    mostrarResumen();//Muestra el resumen de la cita\r\n\r\n}\r\n\r\nfunction mostrarSeccion(){\r\n    //Ocultar la seccion que tenga la clase de mostrar\r\n    const seccionAnterior = document.querySelector('.mostrar');\r\n\r\n    if(seccionAnterior){\r\n        seccionAnterior.classList.remove('mostrar');\r\n    }\r\n\r\n    //Seleccionar la seccion con el paso..\r\n    const pasoSelector = `#paso-${paso}`;\r\n    const seccion = document.querySelector(pasoSelector);\r\n\r\n    seccion.classList.add('mostrar');\r\n\r\n    //Quita la clase actual del tab anterior\r\n    const tabAnterior = document.querySelector('.actual');\r\n\r\n    if(tabAnterior){\r\n        tabAnterior.classList.remove('actual');\r\n    }\r\n\r\n    //Resalta el tab actual\r\n    const tab = document.querySelector(`[data-paso=\"${paso}\"]`);//toma data-paso del index y el paso del let\r\n\r\n    tab.classList.add('actual');\r\n}\r\n\r\nfunction tabs(){\r\n    const botones = document.querySelectorAll('.tabs button');\r\n\r\n    botones.forEach( boton => {//accedemos a cada uno de los botones\r\n        boton.addEventListener('click', function(e){\r\n            paso = parseInt( e.target.dataset.paso );//averiguamos el num de paso al cual le haceos click\r\n\r\n            mostrarSeccion();\r\n            botonesPaginador();\r\n            \r\n        })\r\n    })\r\n}\r\n\r\nfunction botonesPaginador(){\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    if(paso === 1){\r\n        paginaAnterior.classList.add('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    } else if(paso === 3){\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.add('ocultar');\r\n\r\n        mostrarResumen();\r\n    } else {\r\n        paginaAnterior.classList.remove('ocultar');\r\n        paginaSiguiente.classList.remove('ocultar');\r\n    }\r\n\r\n    mostrarSeccion();\r\n}\r\n\r\nfunction paginaAnterior(){\r\n    const paginaAnterior = document.querySelector('#anterior');\r\n\r\n    paginaAnterior.addEventListener('click', function(){\r\n        if(paso <= pasoInicial) return;\r\n        paso--;\r\n\r\n        botonesPaginador();\r\n    })\r\n\r\n}\r\n\r\nfunction paginaSiguiente(){\r\n    const paginaSiguiente = document.querySelector('#siguiente');\r\n\r\n    paginaSiguiente.addEventListener('click', function(){\r\n        if(paso >= pasoFinal) return;\r\n        paso++;\r\n\r\n        botonesPaginador();\r\n    })\r\n}\r\n\r\nasync function consultarAPI(){\r\n    console.log('Consultar API');\r\n    \r\n    try{\r\n        const url = 'http://localhost:3000/api/servicios';\r\n        const resultado = await fetch(url);\r\n        const servicios = await resultado.json();\r\n\r\n        mostrarServicios(servicios);\r\n\r\n    } catch (error){\r\n        console.log(error);\r\n        console.log('Error Consultar  api');\r\n        \r\n    }\r\n}\r\n\r\nfunction mostrarServicios(servicios){\r\n    console.log('Mostrar Servicios');\r\n    \r\n    servicios.forEach( servicio => {\r\n        const { id, nombre, precio } = servicio;\r\n\r\n        const nombreServicio = document.createElement('P');\r\n        nombreServicio.classList.add('nombre-servicio');\r\n        nombreServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.classList.add('precio-servicio');\r\n        precioServicio.textContent = `$ ${precio}`;\r\n\r\n        const servicioDiv = document.createElement('DIV');\r\n        servicioDiv.classList.add('servicio');\r\n        servicioDiv.dataset.idServicio = id;\r\n        servicioDiv.onclick = function(){\r\n            seleccionarServicio(servicio);\r\n        }\r\n\r\n        servicioDiv.appendChild(nombreServicio);\r\n        servicioDiv.appendChild(precioServicio);\r\n\r\n        document.querySelector('#servicios').appendChild(servicioDiv);\r\n        \r\n    });\r\n}\r\n\r\nfunction seleccionarServicio(servicio){\r\n    const {id} = servicio;\r\n    const {servicios} = cita;//extrae el nuevo servicio//servicios viene de const cita-servicios[]\r\n\r\n    //Identificar el elemento al que se le da click\r\n    const divSevicio = document.querySelector(`[data-id-servicio=\"${id}\"]`);\r\n\r\n    //Comprobar si un servicio ya fue agregado\r\n    if(servicios.some(agregado => agregado.id === id)){//va a iterar sobre el arreglo y va a devolver true o false  \r\n        //Eliminarlo\r\n        cita.servicios = servicios.filter(agregado => agregado.id !== id);\r\n        divSevicio.classList.remove('seleccionado');\r\n\r\n    \r\n    } else {\r\n        //Agregarlo\r\n        cita.servicios = [...servicios, servicio];//toma la copia de los servicios ya seeccionados y le agrega el nuevo servicio\r\n        divSevicio.classList.add('seleccionado');\r\n    }\r\n\r\n    //console.log(cita);\r\n    \r\n}\r\n\r\nfunction idCliente(){\r\n    cita.id = document.querySelector('#id').value;\r\n    \r\n}\r\n\r\nfunction nombreCliente(){\r\n    cita.nombre = document.querySelector('#nombre').value;\r\n    \r\n}\r\n\r\nfunction seleccionarFecha(){\r\n    const inputFecha = document.querySelector('#fecha');\r\n    inputFecha.addEventListener('input', function(e){\r\n        const dia = new Date(e.target.value).getUTCDay();\r\n\r\n        if([6, 0].includes(dia)){\r\n            e.target.value = '';\r\n            mostrarAlerta('Fines de semana no permitidos', 'error', '.formulario');\r\n        } else {\r\n            cita.fecha = e.target.value;\r\n        } \r\n    });\r\n} \r\n\r\nfunction seleccionarHora(){\r\n    const inputHora = document.querySelector('#hora');\r\n    inputHora.addEventListener('input', function(e){\r\n        const horaCita = e.target.value;\r\n        const hora = horaCita.split(\":\")[0];\r\n\r\n        if(hora < 10 || hora > 18){\r\n            e.target.value = '';\r\n            mostrarAlerta('Hora no valida', 'error', '.formulario');\r\n        } else {\r\n            cita.hora = e.target.value;\r\n        } \r\n    });\r\n}\r\n\r\nfunction mostrarAlerta(mensaje, tipo, elemento, desaparece = true){\r\n    //Previene que se creen mas de una alerta\r\n    const alertaPrevia = document.querySelector('.alerta');\r\n    if(alertaPrevia){\r\n        alertaPrevia.remove();\r\n    } \r\n\r\n    //Scripting para crear la alerta\r\n    const alerta = document.createElement('DIV');\r\n    alerta.textContent = mensaje;\r\n    alerta.classList.add('alerta');\r\n    alerta.classList.add(tipo);\r\n\r\n    const referencia = document.querySelector(elemento);\r\n    referencia.appendChild(alerta);\r\n\r\n    if(desaparece){\r\n        //Eliminar la alerta\r\n        setTimeout(() => {\r\n            alerta.remove();\r\n        }, 3000);\r\n    }\r\n\r\n}\r\n\r\nfunction mostrarResumen(){\r\n    const resumen = document.querySelector('.contenido-resumen');\r\n\r\n    //Limpiar el contenido del resumen\r\n    while(resumen.firstChild){\r\n        resumen.removeChild(resumen.firstChild);\r\n    }\r\n\r\n    if(Object.values(cita).includes('') || cita.servicios.length === 0){//si el valor de la cita contiene string vacios\r\n        mostrarAlerta('Faltan datos de Servicios, Fecha u Hora', 'error', '.contenido-resumen', false );\r\n        return;\r\n    }\r\n\r\n    //Formatear el div de resumen\r\n    const {nombre, fecha, hora, servicios} = cita;\r\n    \r\n    const nombreCLiente = document.createElement('P');\r\n    nombreCLiente.innerHTML = `<span>Nombre:</span> ${nombre}`;\r\n\r\n    //Formatear la fecha en espa単ol\r\n    const fechaObj = new Date(fecha);\r\n    const dia = fechaObj.getDate() + 2;\r\n    const mes = fechaObj.getMonth();\r\n    const year = fechaObj.getFullYear();\r\n\r\n    const opciones = {day: 'numeric', weekday: 'long', month: 'long', year: 'numeric'}\r\n    const fechaUTC = new Date( Date.UTC(year, mes, dia));\r\n    const fechaFormateada = fechaUTC.toLocaleDateString('es-AR', opciones);\r\n    \r\n    const fechaCita = document.createElement('P');\r\n    fechaCita.innerHTML = `<span>Fecha:</span> ${fechaFormateada}`;\r\n    \r\n    const horaCita = document.createElement('P');\r\n    horaCita.innerHTML = `<span>Hora:</span> ${hora} HS`;\r\n\r\n    //Heading para Servicios en Resumen\r\n    const headingServicios = document.createElement('H3');\r\n    headingServicios.textContent = 'Resumen de Servicios';\r\n\r\n    resumen.appendChild(headingServicios);\r\n\r\n    //Iterando y mostrando los servicios\r\n    servicios.forEach(servicio => {\r\n        const { id, precio, nombre } = servicio;\r\n        const contenedorServicio = document.createElement('DIV');\r\n        contenedorServicio.classList.add('contenedor-servicio');\r\n\r\n        const textoServicio = document.createElement('P');\r\n        textoServicio.textContent = nombre;\r\n\r\n        const precioServicio = document.createElement('P');\r\n        precioServicio.innerHTML = `<span>Precio:</span> $${precio}`;\r\n\r\n        contenedorServicio.appendChild(textoServicio);\r\n        contenedorServicio.appendChild(precioServicio);\r\n\r\n        resumen.appendChild(contenedorServicio);\r\n    });\r\n\r\n    //Heading para Cita en Resumen\r\n    const headingCita = document.createElement('H3');\r\n    headingCita.textContent = 'Resumen de Cita';\r\n\r\n    resumen.appendChild(headingCita);\r\n\r\n    //Boton para Crear una Cita\r\n    const botonReservar = document.createElement('BUTTON');\r\n    botonReservar.classList.add('boton');\r\n    botonReservar.textContent = 'Reservar Cita';\r\n    botonReservar.onclick = reservarCita;\r\n\r\n    resumen.appendChild(botonReservar);\r\n\r\n\r\n    resumen.appendChild(nombreCLiente);\r\n    resumen.appendChild(fechaCita);\r\n    resumen.appendChild(horaCita);\r\n\r\n}\r\n\r\nasync function reservarCita(){\r\n    const { nombre, fecha, hora, servicios, id} = cita;\r\n\r\n    const idServicios = servicios.map(servicio => servicio.id);\r\n\r\n    const datos = new FormData();\r\n\r\n\r\n    datos.append('fecha', fecha);\r\n    datos.append('hora', hora);\r\n    datos.append('usuarioId', id);//append sirve para agrega datos\r\n    datos.append('servicios', idServicios);\r\n\r\n    console.log([...datos]);\r\n\r\n    try {\r\n        //Peticion hacia la API\r\n        const url = 'http://localhost:3000/api/citas';\r\n\r\n        const respuesta = await fetch(url, {\r\n            method: 'POST',\r\n            body: datos\r\n        });\r\n\r\n        const resultado = await respuesta.json();\r\n        \r\n\r\n        if(resultado.resultado){\r\n            Swal.fire({\r\n                icon: \"success\",\r\n                title: \"Cita Creada\",\r\n                text: \"Tu cita fue creada correctamente!\",\r\n                button: 'OK'\r\n            }).then(() => {\r\n                setTimeout(() => {\r\n                    window.location.reload();\r\n\r\n                }, 3000);\r\n            });\r\n        }\r\n    } catch (error) {\r\n        console.log(error);\r\n        \r\n        Swal.fire({\r\n            icon: \"error\",\r\n            title: \"Error\",\r\n            text: \"Hubo un error al gurdar la cita!\"\r\n        });\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    \r\n    \r\n}","document.addEventListener('DOMContentLoaded', function(){\r\n    iniciarApp();\r\n});\r\n\r\nfunction iniciarApp(){\r\n    buscarPorFecha();\r\n}\r\n\r\nfunction buscarPorFecha(){\r\n    const fechaInput = document.querySelector('#fecha');\r\n    fechaInput.addEventListener('input', function(e){\r\n        const fechaSeleccionada = e.target.value;\r\n        \r\n        window.location = `?fecha=${fechaSeleccionada}`;\r\n        \r\n    });\r\n}"]}